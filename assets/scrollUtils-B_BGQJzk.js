import{r as i,j as w,s as k}from"./index-ciCq5sbO.js";const T=()=>{const d=i.useRef(null),t=i.useRef([]),o=i.useRef({x:0,y:0}),c=i.useRef(0),[f,M]=i.useState(document.documentElement.getAttribute("data-theme")!=="light");return i.useEffect(()=>{const n=()=>{M(document.documentElement.getAttribute("data-theme")!=="light")};n();const u=new MutationObserver(m=>{m.forEach(g=>{g.attributeName==="data-theme"&&n()})});return u.observe(document.documentElement,{attributes:!0}),()=>u.disconnect()},[]),i.useEffect(()=>{const n=d.current;if(!n)return;const u=n.getContext("2d");if(!u)return;const m=()=>{n.width=window.innerWidth,n.height=window.innerHeight,g()},g=()=>{t.current=[];const e=Math.floor(n.width*n.height/1e4);for(let s=0;s<e;s++){const h=Math.random()*2+1,l=f?["rgba(200, 162, 83, 0.8)","rgba(174, 140, 71, 0.6)","rgba(226, 184, 94, 0.7)","rgba(255, 255, 255, 0.7)"]:["rgba(200, 162, 83, 0.8)","rgba(174, 140, 71, 0.5)","rgba(226, 184, 94, 0.6)","rgba(33, 33, 33, 0.2)"];t.current.push({x:Math.random()*n.width,y:Math.random()*n.height,size:h,speedX:Math.random()*.5-.25,speedY:Math.random()*.5-.25,color:l[Math.floor(Math.random()*l.length)]})}},v=e=>{o.current={x:e.clientX,y:e.clientY}},b=()=>{u.clearRect(0,0,n.width,n.height),x(),C(u),L(u),c.current=requestAnimationFrame(b)},x=()=>{t.current.forEach(e=>{e.x+=e.speedX,e.y+=e.speedY,e.x>n.width?e.x=0:e.x<0&&(e.x=n.width),e.y>n.height?e.y=0:e.y<0&&(e.y=n.height);const s=o.current.x-e.x,h=o.current.y-e.y,r=Math.sqrt(s*s+h*h);if(r<100){const a=Math.atan2(h,s),l=(100-r)/1500;e.speedX-=Math.cos(a)*l,e.speedY-=Math.sin(a)*l}})},C=e=>{t.current.forEach(s=>{e.beginPath(),e.arc(s.x,s.y,s.size,0,Math.PI*2),e.fillStyle=s.color,e.fill()})},L=e=>{const h="rgba(200, 162, 83, ";for(let r=0;r<t.current.length;r++)for(let a=r+1;a<t.current.length;a++){const l=t.current[r].x-t.current[a].x,y=t.current[r].y-t.current[a].y,E=Math.sqrt(l*l+y*y);if(E<150){const P=1-E/150;e.beginPath(),e.strokeStyle=`${h}${P*.5})`,e.lineWidth=.5,e.moveTo(t.current[r].x,t.current[r].y),e.lineTo(t.current[a].x,t.current[a].y),e.stroke()}}};return window.addEventListener("resize",m),window.addEventListener("mousemove",v),m(),b(),()=>{window.removeEventListener("resize",m),window.removeEventListener("mousemove",v),cancelAnimationFrame(c.current)}},[f]),w.jsx("canvas",{ref:d,className:"particle-canvas"})},p=()=>{const[d,t]=i.useState(!1);i.useEffect(()=>{const c=()=>{window.pageYOffset>300?t(!0):t(!1)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]);const o=()=>{window.scrollTo({top:0,behavior:"smooth"})};return w.jsx("div",{className:`scroll-to-top ${d?"visible":""}`,onClick:o,children:w.jsx(k,{})})},R=(d,t=.2)=>{const o=d.getBoundingClientRect(),c=window.innerHeight||document.documentElement.clientHeight;return o.top<=c*(1-t)},A=()=>{const d=document.querySelectorAll("[data-reveal]"),t=()=>{d.forEach(o=>{if(R(o)&&!o.classList.contains("revealed")){const c=o.getAttribute("data-reveal-delay")||"0";setTimeout(()=>{o.classList.add("revealed")},parseInt(c))}})};return t(),window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)};export{T as P,p as S,A as s};
